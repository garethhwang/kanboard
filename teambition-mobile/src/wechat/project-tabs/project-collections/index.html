<ion-view class="project-work-view" ng-controller="PanelCollectionsView as PanelCollectionsCtrl">
  <ion-content>
    <div class="banner" ng-controller="BannerView as BannerCtrl">
      <div class="banner-logo"></div>
      <h2>用 Teambition App 打开</h2>
      <div class="button button-positive" on-tap="BannerCtrl.openUniversalLink()">打开</div>
    </div>
    <div class="list ionic">
      <span class="item item-divider" ng-if="PanelCollectionsCtrl.collections.length">
        文件夹
      </span>
      <a class="item item-icon-left"
         ng-repeat="collection in PanelCollectionsCtrl.collections track by collection._id"
         ng-href="/#/project/{{collection._projectId}}/collections/{{collection._id}}">
        <i class="icon icon-folder"></i>
        <span ng-bind="collection.title" class="collection-name"></span>
      </a>
      <span class="item item-divider" ng-if="works.length">
        文件
      </span>
      <a class="item item-avatar" ng-repeat="work in PanelCollectionsCtrl.works track by work._id" on-tap="PanelCollectionsCtrl.openDetail(work._id)">
        <img class="item-thumbnail" ng-if="work.thumbnail" ng-src="{{work.thumbnail}}">
        <div class="file-background {{work.fileType}}" ng-if="!work.thumbnail">
          <span ng-bind="work.fileType" class="item-fileType {{work.class}}"></span>
        </div>
        <span class="item-file-name" ng-bind="work.fileName"></span>
      </a>
    </div>
  </ion-content>
  <div ng-show="!PanelCollectionsCtrl.works.length && !PanelCollectionsCtrl.collections.length" class="empty-warn project-work"></div>
</ion-view>
